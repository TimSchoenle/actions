{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Base configuration to handle custom versioning for all resources in this repository.",
  "extends": ["github>TimSchoenle/actions//configs/renovate/actions"],
  "regexManagers": [
    {
      "description": "Custom action versioning",
      "fileMatch": ["(^|/)action\\.ya?ml$", "(^|/)workflow\\.ya?ml$", "^\\.github/workflows/.*\\.ya?ml$"],
      "matchStrings": [
        "uses: (?<depName>TimSchoenle/actions/(?<subPath>[\\w\\/-]+))@(?<currentDigest>[0-9a-f]{40})\\s+#\\s+(?<currentValue>.*)",
        "uses: (?<depName>TimSchoenle/actions/(?<subPath>[\\w\\/-]+))@(?<currentValue>actions-[^ #\\n\\r]+)"
      ],
      "lookupNameTemplate": "TimSchoenle/actions",
      "datasourceTemplate": "github-tags"
    }
  ],
  "packageRules": [
    {
      "description": "Disable default github-actions manager for this monorepo to avoid conflation",
      "matchManagers": ["github-actions"],
      "matchPackageNames": ["TimSchoenle/actions"],
      "enabled": false
    },
    {
      "description": "Disable pinning for custom actions used via regex manager. It is sadly a nightmare trying to get this to work with the custom regex manager-",
      "matchPackageNames": ["TimSchoenle/actions"],
      "pinDigests": false
    }
  ]
}
